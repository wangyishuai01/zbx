<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cn.zbx.dao.TUserDao">
	<resultMap id="BaseResultMap" type="com.cn.zbx.pojo.TUser">
		<id column="user_id" property="userId" jdbcType="BIGINT" />
		<result column="user_nick" property="userNick" jdbcType="VARCHAR" />
		<result column="user_name" property="userName" jdbcType="VARCHAR" />
		<result column="user_phone" property="userPhone" jdbcType="CHAR" />
		<result column="user_email" property="userEmail" jdbcType="VARCHAR" />
		<result column="user_pwd" property="userPwd" jdbcType="VARCHAR" />
		<result column="user_header_img" property="userHeaderImg" jdbcType="VARCHAR" />
		<result column="user_state" property="userState" jdbcType="INTEGER" />
		<result column="user_create_time" property="userCreateTime" jdbcType="TIMESTAMP" />
		<result column="user_update_time" property="userUpdateTime" jdbcType="TIMESTAMP" />
		<result column="user_is_delete" property="userIsDelete" jdbcType="INTEGER" />
		<result column="user_integral" property="userIntegral" jdbcType="INTEGER" />
	</resultMap>
	
	<sql id="Base_Column_List">user_id, user_nick, user_name, user_phone, user_email,user_header_img, user_state, user_integral</sql>

	<insert id="insert" parameterType="com.cn.zbx.pojo.TUser">
		insert into t_user
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="userId != null"> user_id, </if>
			<if test="userNick != null"> user_nick, </if>
			<if test="userName != null"> user_name, </if>
			<if test="userPhone != null"> user_phone, </if>
			<if test="userEmail != null"> user_email, </if>
			<if test="userPwd != null"> user_pwd, </if>
			<if test="userHeaderImg != null"> user_header_img, </if>
			<if test="userState != null"> user_state, </if>
			<if test="userCreateTime != null"> user_create_time, </if>
			<if test="userUpdateTime != null"> user_update_time, </if>
			<if test="userIsDelete != null"> user_is_delete, </if>
			<if test="userIntegral != null"> user_integral, </if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="userId != null"> #{userId,jdbcType=BIGINT}, </if>
			<if test="userNick != null"> #{userNick,jdbcType=VARCHAR}, </if>
			<if test="userName != null"> #{userName,jdbcType=VARCHAR}, </if>
			<if test="userPhone != null"> #{userPhone,jdbcType=CHAR}, </if>
			<if test="userEmail != null"> #{userEmail,jdbcType=VARCHAR}, </if>
			<if test="userPwd != null"> #{userPwd,jdbcType=VARCHAR}, </if>
			<if test="userHeaderImg != null"> #{userHeaderImg,jdbcType=VARCHAR}, </if>
			<if test="userState != null"> #{userState,jdbcType=INTEGER}, </if>
			<if test="userCreateTime != null"> #{userCreateTime,jdbcType=TIMESTAMP}, </if>
			<if test="userUpdateTime != null"> #{userUpdateTime,jdbcType=TIMESTAMP}, </if>
			<if test="userIsDelete != null"> #{userIsDelete,jdbcType=INTEGER}, </if>
			<if test="userIntegral != null"> #{userIntegral,jdbcType=INTEGER}, </if>
		</trim>
	</insert>
	<update id="update" parameterType="com.cn.zbx.pojo.TUser">
		update t_user
		<set>
			<if test="userNick != null"> user_nick = #{userNick,jdbcType=VARCHAR}, </if>
			<if test="userName != null"> user_name = #{userName,jdbcType=VARCHAR}, </if>
			<if test="userPhone != null"> user_phone = #{userPhone,jdbcType=CHAR}, </if>
			<if test="userEmail != null"> user_email = #{userEmail,jdbcType=VARCHAR}, </if>
			<if test="userPwd != null"> user_pwd = #{userPwd,jdbcType=VARCHAR}, </if>
			<if test="userHeaderImg != null"> user_header_img = #{userHeaderImg,jdbcType=VARCHAR}, </if>
			<if test="userState != null"> user_state = #{userState,jdbcType=INTEGER}, </if>
			<if test="userCreateTime != null"> user_create_time = #{userCreateTime,jdbcType=TIMESTAMP}, </if>
			<if test="userUpdateTime != null"> user_update_time = #{userUpdateTime,jdbcType=TIMESTAMP}, </if>
			<if test="userIsDelete != null"> user_is_delete = #{userIsDelete,jdbcType=INTEGER}, </if>
			<if test="userIntegral != null"> user_integral = #{userIntegral,jdbcType=INTEGER}, </if>
		</set>
		where user_id = #{userId,jdbcType=BIGINT}
	</update>

	<!-- 返回多条数据 -->
	<select id="select" resultMap="BaseResultMap" parameterType="com.cn.zbx.pojo.TUser">
		select <include refid="Base_Column_List" /> from t_user
		<where>
			<if test="userId != null"> and user_id = #{userId,jdbcType=BIGINT} </if>
			<if test="userNick != null"> and user_nick = #{userNick,jdbcType=VARCHAR} </if>
			<if test="userName != null"> and user_name = #{userName,jdbcType=VARCHAR} </if>
			<if test="userPhone != null"> and user_phone = #{userPhone,jdbcType=CHAR} </if>
			<if test="userEmail != null"> and user_email = #{userEmail,jdbcType=VARCHAR} </if>
			<if test="userPwd != null"> and user_pwd = #{userPwd,jdbcType=VARCHAR} </if>
			<if test="userHeaderImg != null"> and user_header_img = #{userHeaderImg,jdbcType=VARCHAR} </if>
			<if test="userState != null"> and user_state = #{userState,jdbcType=INTEGER} </if>
			<if test="userCreateTime != null"> and user_create_time = #{userCreateTime,jdbcType=TIMESTAMP} </if>
			<if test="userUpdateTime != null"> and user_update_time = #{userUpdateTime,jdbcType=TIMESTAMP} </if>
			<if test="userIsDelete != null"> and user_is_delete = #{userIsDelete,jdbcType=INTEGER} </if>
			<if test="userIntegral != null"> and user_integral = #{userIntegral,jdbcType=INTEGER} </if>
		</where>
		<if test="pageSize != null and pageCount != null and pageSize != 0 and pageCount != 0">
			limit (#{pageCount,jdbcType=INTEGER} - 1) * #{pageSize,jdbcType=INTEGER}, #{pageCount,jdbcType=INTEGER} * #{pageSize,jdbcType=INTEGER}
		</if>
	</select>
	
	<!-- 返回单条数据 -->
	<select id="selectByPojo" resultMap="BaseResultMap" parameterType="com.cn.zbx.pojo.TUser">
		select <include refid="Base_Column_List" /> from t_user
		<where>
			<if test="userId != null"> and user_id = #{userId,jdbcType=BIGINT} </if>
			<if test="userNick != null"> and user_nick = #{userNick,jdbcType=VARCHAR} </if>
			<if test="userName != null"> and user_name = #{userName,jdbcType=VARCHAR} </if>
			<if test="userPhone != null"> and user_phone = #{userPhone,jdbcType=CHAR} </if>
			<if test="userEmail != null"> and user_email = #{userEmail,jdbcType=VARCHAR} </if>
			<if test="userPwd != null"> and user_pwd = #{userPwd,jdbcType=VARCHAR} </if>
			<if test="userHeaderImg != null"> and user_header_img = #{userHeaderImg,jdbcType=VARCHAR} </if>
			<if test="userState != null"> and user_state = #{userState,jdbcType=INTEGER} </if>
			<if test="userCreateTime != null"> and user_create_time = #{userCreateTime,jdbcType=TIMESTAMP} </if>
			<if test="userUpdateTime != null"> and user_update_time = #{userUpdateTime,jdbcType=TIMESTAMP} </if>
			<if test="userIsDelete != null"> and user_is_delete = #{userIsDelete,jdbcType=INTEGER} </if>
			<if test="userIntegral != null"> and user_integral = #{userIntegral,jdbcType=INTEGER} </if>
		</where>
	</select>
</mapper>